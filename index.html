<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Anna Fergusson" />


<title>Signed, sealed, delivered</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link rel="icon" type="image/png" sizes="16x16" href="logo.png">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-65065542-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-65065542-1');
</script>




<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>



<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Signed, sealed, delivered</h1>
<h4 class="author">Anna Fergusson</h4>

</div>


<div id="an-introduction-to-developing-r-packages" class="section level2">
<h2>An introduction to developing R packages <img src='logo.png' width='30px'/></h2>
<div id="abstract-for-workshop" class="section level3">
<h3>Abstract for workshop</h3>
<blockquote>
<p>In this workshop, we’ll learn all about the wonderful world of R packages and what you need to know to get started on your package development adventure. Maybe you want to share a new method you’ve developed? Maybe you’ve got an interesting set of data that you’d like to others to be able to access? Maybe you’ve got an idea for a new package but are not sure how to get started? Or maybe you just want a non-scary place to hang out on Halloween? Come along and learn more about R package development within a fun and supportive learning environment.</p>
</blockquote>
<p>Website and workshop materials developed by Anna Fergusson for the <a href="https://www.meetup.com/rladies-auckland/events/265650391/">R-Ladies Auckland October 2019 Meetup</a>.</p>
</div>
<div id="wheres-the-slides" class="section level3">
<h3>Where’s the slides?</h3>
<p>I normally provide slides for my workshops but this workshop was nearly entirely based on the slides prepared by Earo Wang in May 2018 called <a href="https://slides.earo.me/rladies-pkg">Everything you need to know to create your own R package</a>, so I’ll just link to those slides! The rest of this writing are my notes about what (small) things I changed about the workshop designed by <a href="https://twitter.com/earowang">Earo</a>.</p>
</div>
<div id="workshop-notes" class="section level3">
<h3>Workshop notes</h3>
<p>In my slides, I had different music tracks queued up for “pivotal” moments in our package development adventure. The first track, was of course, the name of the workshop:</p>
<p>
<iframe src="https://open.spotify.com/embed/track/2eF8pWbiivYsYRpbntYsnc" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media">
</iframe>
</p>
<p>We then talked about how packages come in all shapes and sizes, and you could start by “bundling up” some of your favourite things into your own personal package! Think of it as a gift to your future self.</p>
<p>
<iframe src="https://open.spotify.com/embed/track/3XuynAYyLtvJrI2NvVXu6Z" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media">
</iframe>
</p>
<p>The <a href="https://cran.r-project.org/web/packages/magick/vignettes/intro.html">magick</a> package is one of my favourite packages, and I use it all the time to develop aspects of my teaching materials. So, for this workshop I used an example of a “one function” package to take participants through (rather than the package Earo used). I’ve developed R packages before quite haphazardly, so to prepare for this workshop, I followed Earo’s slides to package up one of my magick-based functions. This was a good strategy, as it allowed me to identify some aspects where I thought participants might need a little bit more info.</p>
<p>So our goal was to re-create the package that I used to create this:</p>
<p><img src='Rpumpkin.png' width=300 /></p>
<p>What the package/function actually does is shown below in one of the few original slides from my workshop!</p>
<p><img src='slide_do.png' width=600 /></p>
<p>In terms of scoping out whether your new amazing package doesn’t already kind of exist, I recommended using the reverse dependencies of the key packages your package will import. For me, that was the <code>magick</code> package. I reviewed other packages that relied heavily on the <code>magick</code> package to see if they already provided the kinds of functionality I want.</p>
<p>To segway to the important naming phase of our package development, I used the track below to introduce the name I had chosen:</p>
<p>
<iframe src="https://open.spotify.com/embed/track/3hENlPbIlUZXQ3MiosF87Q" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media">
</iframe>
</p>
I also provided a link to <a href="https://www.njtierney.com/post/2018/06/20/naming-things/">an interesting post by Nick Tierney</a> on naming R packages. I totally forgot to use this track when we were discussing naming packages:
<p>
<iframe src="https://open.spotify.com/embed/track/7H6ev70Weq6DdpZyyTmUXk" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media">
</iframe>
</p>
<p>If you haven’t worked it out yet - the package is called <code>cuttingshapes</code>!</p>
<p>We then followed the steps Earo outlined for creating a package within RStudio using the very helpful packages <code>usethis</code> and <code>devtools</code>. One thing I would change for next time is to include examples/screenshots of using the menu options under <strong>Build</strong> in the RStudio GUI, as they also show the shortcuts for various things like “Load all” etc. I also explained a little bit more about what <code>load_all()</code> does, in that it tries to simulate what happens when a package is installed and loaded with library().</p>
<p>I also (totally on purpose!) left out importing one of the packages needed for the <code>cuttingshapes</code> package so that we got an error when we tried to run our function. This gave participants an opportunity to go back to the R script for the function, identify which functions/packages needed to be imported and practice the steps just used.</p>
<p>We did cover using roxygen comments to create documentation for the package, but this aspect was not really that fun, and I think even less fun when it’s not your package. So it kind of mostly felt like I was just dictating what we could write. However, it was exciting that we could call <code>?cut_shape</code> and have documentation appear!</p>
<p>I had this song queued for when we built and checked the package:</p>
<p>
<iframe src="https://open.spotify.com/embed/track/3K7Q9PHUWPTaknlbFPThn2" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media">
</iframe>
</p>
<p>I knew there were going to be some notes generated about the package from the checking process (two were about global variables, one was about the image URL being too long to fit on the line), so had the “fix” ready to go so we could update the R script for our function, and re-build and check the package.</p>
<p>
<iframe src="https://open.spotify.com/embed/track/0SuG9kyzGRpDqrCWtgD6Lq" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media">
</iframe>
</p>
<p>We then talked about how to make your package useful for others, including README files, vignettes, and creating a website using the <code>pkgdown</code> package.</p>
<p>
<iframe src="https://open.spotify.com/embed/track/2cdzutoqFK6sfW6exi7oXh" width="300" height="80" frameborder="0" allowtransparency="true" allow="encrypted-media">
</iframe>
</p>
<p>Due to time constraints and the very intro nature of the workshop, we didn’t go into any details about unit tests. However, I included all of the excellent resources that Earo linked to in her slides for further reading.</p>
<p>All in all, I think the workshop went pretty well. I’m happy I decided to use a “one function” package to work through for the workshop, using a function that we could try out and make fun stuff with during the workshop (pumpkins + cats). It was Halloween and I think the goal to cover just some of the key ideas for developing R packages in a non-scary way was achieved!</p>
</div>
<div id="check-out-the-wip-package" class="section level3">
<h3>Check out the WIP package …</h3>
<p><a href="https://github.com/annafergusson/cuttingshapes" class="uri">https://github.com/annafergusson/cuttingshapes</a></p>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
